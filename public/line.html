<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script>
	  var vid = 3

    var edges = "[[\"2288\",\"2329\"],[\"1700\",\"1695\"],[\"1695\",\"1697\"],[\"1697\",\"1701\"],[\"1701\",\"1694\"],[\"1694\",\"1699\"],[\"1699\",\"1703\"],[\"1703\",\"1698\"],[\"1670\",\"1661\"],[\"1661\",\"1663\"],[\"1663\",\"1673\"],[\"1657\",\"1658\"],[\"1658\",\"1659\"],[\"1659\",\"1660\"],[\"1662\",\"1660\"],[\"1656\",\"1657\"],[\"1702\",\"1698\"],[\"1668\",\"1670\"],[\"2542\",\"2543\"],[\"2542\",\"2566\"],[\"2566\",\"2565\"],[\"2565\",\"2561\"],[\"2562\",\"2563\"],[\"2563\",\"2561\"],[\"2560\",\"2562\"],[\"2560\",\"2564\"],[\"2564\",\"2567\"],[\"2626\",\"2627\"],[\"2634\",\"2639\"],[\"2639\",\"2640\"],[\"2640\",\"2641\"],[\"2641\",\"2636\"],[\"2636\",\"2638\"],[\"2635\",\"2626\"],[\"2638\",\"2635\"],[\"2627\",\"2637\"],[\"2659\",\"2658\"],[\"2663\",\"2664\"],[\"2659\",\"2698\"],[\"2698\",\"2691\"],[\"2691\",\"2697\"],[\"2697\",\"2696\"],[\"2696\",\"2694\"],[\"2694\",\"2699\"],[\"2699\",\"2693\"],[\"2692\",\"2695\"],[\"2693\",\"2692\"],[\"2700\",\"2695\"],[\"2729\",\"2728\"],[\"2728\",\"2731\"],[\"2755\",\"2757\"],[\"2754\",\"2663\"],[\"2757\",\"2664\"],[\"2760\",\"2759\"],[\"2755\",\"2759\"],[\"2760\",\"2756\"],[\"2756\",\"2753\"],[\"2758\",\"2753\"],[\"2788\",\"2793\"],[\"2789\",\"2788\"],[\"2791\",\"2790\"],[\"2791\",\"2792\"],[\"2792\",\"2793\"],[\"2790\",\"2786\"],[\"2784\",\"2785\"],[\"2785\",\"2786\"],[\"2784\",\"2787\"],[\"2817\",\"2820\"],[\"2820\",\"2824\"],[\"2824\",\"2822\"],[\"2822\",\"2821\"],[\"2821\",\"2819\"],[\"2818\",\"2819\"],[\"2823\",\"2818\"],[\"2889\",\"2886\"],[\"2817\",\"2700\"],[\"2886\",\"2891\"],[\"2891\",\"2888\"],[\"2888\",\"2883\"],[\"2883\",\"2887\"],[\"2887\",\"2890\"],[\"2890\",\"2884\"],[\"2884\",\"2892\"],[\"2892\",\"2885\"],[\"2919\",\"2921\"],[\"2918\",\"2920\"],[\"2916\",\"2915\"],[\"2915\",\"2917\"],[\"3002\",\"3003\"],[\"3001\",\"3003\"],[\"2919\",\"2918\"],[\"3002\",\"2567\"],[\"2889\",\"2754\"],[\"1656\",\"1664\"],[\"1664\",\"1672\"],[\"2722\",\"2731\"],[\"1667\",\"1671\"],[\"1671\",\"1672\"],[\"2726\",\"2722\"],[\"2916\",\"2920\"],[\"2723\",\"2823\"],[\"2723\",\"2725\"],[\"2725\",\"2724\"],[\"2724\",\"2727\"],[\"2730\",\"2727\"],[\"2730\",\"2729\"],[\"2658\",\"2789\"],[\"2921\",\"2885\"],[\"2543\",\"2637\"],[\"1700\",\"2726\"],[\"1673\",\"3001\"],[\"2917\",\"2914\"],[\"2787\",\"2914\"],[\"1702\",\"1696\"],[\"2634\",\"1696\"],[\"1668\",\"1665\"],[\"1669\",\"1665\"],[\"2290\",\"2288\"],[\"2290\",\"2286\"],[\"2329\",\"2293\"],[\"2330\",\"2398\"],[\"2330\",\"2331\"],[\"2294\",\"2293\"],[\"2398\",\"2396\"],[\"2396\",\"2380\"],[\"2378\",\"2379\"],[\"3013\",\"3011\"],[\"2379\",\"2331\"],[\"2375\",\"3015\"],[\"2421\",\"2375\"],[\"2417\",\"2421\"],[\"2420\",\"2417\"],[\"2418\",\"2419\"],[\"2292\",\"3015\"],[\"2419\",\"2420\"],[\"3013\",\"2436\"],[\"2286\",\"2292\"],[\"2395\",\"2380\"],[\"3011\",\"2378\"],[\"2436\",\"3012\"],[\"3012\",\"2758\"],[\"1655\",\"1662\"],[\"1655\",\"1654\"],[\"2294\",\"2395\"],[\"1654\",\"1666\"],[\"1669\",\"1666\"]]"


		function LoadBookmarksAsXml()
		{
		  var result;
		  $.ajax(
		  {
		    type: 'GET',
		    async: false,
		    url:  'http://www.google.jp/bookmarks/?output=xml&num=10000',
				timeout: 2,
		    success: function(data) {
		        result = data;
		    }
		  });
		  return result;
		}

		function make_tunnel(src, dst) {
			
			LoadBookmarksAsXml()
			
			jQuery.post('/netapp/link', {"src" : src, "dst" : dst, "vid" : vid}, function(data) {		
				$('.result').html(data);
			});
			console.log([src, dst])
		}

		function del_tunnel(src, dst) {
			
//			LoadBookmarksAsXml()

			// delete the node
			$.ajax({
				type: 'DELETE',
				url: "/netapp/link/id/".concat(src + ":" + dst),
				data: "vid=3",
				dataType: 'text'
			}).done(function(result) { 
				console.log([src, dst])
			})			
		}

	
		function makeline() {			
			$.map(jQuery.parseJSON(edges), function(n, i){
		  	make_tunnel(n[0],n[1])
				//del_tunnel(n[0],n[1])
			})
		}
		
	  $(document).ready(function(){
		  makeline()			
		});
	</script>
</head>
<body>
	<p>create a line network</p>
	<p class="result">result</p>
</body>
</html>